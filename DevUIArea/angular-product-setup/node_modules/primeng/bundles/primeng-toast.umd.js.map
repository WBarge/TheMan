{"version":3,"file":"primeng-toast.umd.js","sources":["ng:/primeng/toast/toast.ts"],"names":["EventEmitter","NgZone","Component","trigger","state","style","transition","animate","ViewEncapsulation","ChangeDetectionStrategy","Input","Output","ViewChild","DomHandler","MessageService","ChangeDetectorRef","query","animateChild","ContentChildren","PrimeTemplate","NgModule","CommonModule","RippleModule","SharedModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAiD,QA2E7C,mBAAoB,IAAY;AAAI,YAAhB,SAAI,GAAJ,IAAI,CAAQ;AAAC,YANvB,YAAO,GAAsB,IAAIA,iBAAY,EAAE,CAAC;AAC9D,SAKwC;AACxC,QACI,mCAAe,GAAf;AAAc,YACV,IAAI,CAAC,WAAW,EAAE,CAAC;AAC3B,SAAK;AAEL,QAAI,+BAAW,GAAX;AAAc,YAAd,iBAWC;AACL,YAXQ,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AAClC,gBAAY,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC;AAClC,oBAAU,KAAI,CAAC,OAAO,GAAG,UAAU,CAAC;AACpC,wBAAc,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC;AACtC,4BAAwB,KAAK,EAAE,KAAI,CAAC,KAAK;AACzC,4BAAwB,OAAO,EAAE,KAAI,CAAC,OAAO;AAC7C,yBAAqB,CAAC,CAAC;AACvB,qBAAiB,EAAE,KAAI,CAAC,OAAO,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;AAC9C,iBAAa,CAAC,CAAC;AACf,aAAS;AACT,SAAK;AAEL,QAAI,gCAAY,GAAZ;AAAc,YACV,IAAI,IAAI,CAAC,OAAO,EAAE;AAC1B,gBAAY,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACvC,gBAAY,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;AAChC,aAAS;AACT,SAAK;AACJ,QACG,gCAAY,GAAZ;AAAc,YACV,IAAI,CAAC,YAAY,EAAE,CAAC;AAC5B,SAAK;AAEL,QAAI,gCAAY,GAAZ;AAAc,YACV,IAAI,CAAC,WAAW,EAAE,CAAC;AAC3B,SAAK;AACJ,QACG,oCAAgB,GAAhB,UAAiB,KAAK;AAC1B,YAAQ,IAAI,CAAC,YAAY,EAAE,CAAC;AAC5B,YACQ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;AAC1B,gBAAY,KAAK,EAAE,IAAI,CAAC,KAAK;AAC7B,gBAAY,OAAO,EAAE,IAAI,CAAC,OAAO;AACjC,aAAS,CAAC,CAAC;AACX,YACQ,KAAK,CAAC,cAAc,EAAE,CAAC;AAC/B,SAAK;AAEL,QAAI,+BAAW,GAAX;AAAc,YACV,IAAI,CAAC,YAAY,EAAE,CAAC;AAC5B,SAAK;AACJ;AAKC,oBArD4BC,WAAM;AAAG,aAtB1B;qDA3CZC,rDA2Ca;SA3CJ,SAAC,lBA6CD,oBAvD+KD,WAAM;UAW3L,VAX8L;IAWtL,EAAE,aAAa,nBAXqL;QAY5M,QAAQ,EAAE,lBAZuO,8BAuDhPS,UAAK;AAAK,4BAEVA,UAAK;AAAK,+BAEVA,UAAK;AAAK,2CAEVA,UAAK;AAAK,2CAEVA,UAAK;AAAK,4CAEVA,UAAK;AAAK,4CAEVA,UAAK;AAAK,8BAEVC,WAAM;AAAK,yCAEXC,cAAS,SAAC,WAAW;AAAM;;;;;;;0sBAzC3B,0BACD,UAAU,EAAE,8BACRT,kBAAO,CAAC,cAAc,EAAE,kCACpBC,gBAAK,CAAC,SAAS,EAAEC,gBAAK,CAAC,sCACnB,SAAS,EAAE,eAAe,sCAC1B,OAAO,EAAE,CAAC;cACb,CAAC,CAAC;GACHC,qBAAU,CAAC,WAAW,EAAE,sCACpBD,gBAAK,CAAC,EAAC,SAAS,EAAE,yBAAyB,EAAE,OAAO,EAAE,CAAC,EAAC,CAAC,sCACzDE,kBAAO,CAAC,0BAA0B,CAAC;iCACtC,CAAC;wBACFD,qBAAU,CAAC,WAAW,EAAE;OACpBC,kBAAO,EAAE,0BAA0B,GAAGF,gBAAK,CAAC;qCACxC,MAAM,EAAE,CAAC,0CACT;KAAO,EAAE,CAAC;mBACV,SAAS,EAAE;;IAAyB,sCACvC,CAAC,CAAC,kCACN,CAAC,8BACL,CAAC,0BACL,0BACD,aAAa,EAAEG,sBAAiB,CAAC,IAAI,0BACrC,eAAe,EAAEC;MAAuB,CAAC,MAAM,sBAClD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAmByC;AAAC,QAoD3C,gBAAC;AAED,KAnHA,IAiHC;AACD;AAGM,QA6DF,eAAmB,cAA8B,EAAU,EAAqB;AAAI,YAAjE,mBAAc,GAAd,cAAc,CAAgB;AAAC,YAAS,OAAE,GAAF,EAAE,CAAmB;AAAC,YAtCxE,eAAU,GAAY,IAAI,CAAC;AACxC,YACa,eAAU,GAAW,CAAC,CAAC;AACpC,YAKa,aAAQ,GAAW,WAAW,CAAC;AAC5C,YACa,0BAAqB,GAAY,KAAK,CAAC;AACpD,YACa,sBAAiB,GAAY,KAAK,CAAC;AAChD,YACa,yBAAoB,GAAW,kBAAkB,CAAC;AAC/D,YACa,yBAAoB,GAAW,mBAAmB,CAAC;AAChE,YACa,0BAAqB,GAAW,gBAAgB,CAAC;AAC9D,YACa,0BAAqB,GAAW,eAAe,CAAC;AAC7D,YACc,YAAO,GAAsB,IAAIT,iBAAY,EAAE,CAAC;AAC9D,SAewF;AACxF,QACI,wBAAQ,GAAR;AACH,YADG,iBAyBC;AACL,YAzBQ,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,SAAS,CAAC,UAAA,QAAQ;AAAI,gBACjF,IAAI,QAAQ,EAAE;AAC1B,oBAAgB,IAAI,QAAQ,YAAY,KAAK,EAAE;AAC/C,wBAAoB,IAAM,gBAAgB,GAAG,QAAQ,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;AAClF,wBAAoB,KAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;AAC/C,qBAAiB;AACjB,yBAAqB,IAAI,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;AAChD,wBAAoB,KAAI,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AACzC,qBAAiB;AACjB,iBAAa;AACb,aAAS,CAAC,CAAC;AACX,YACQ,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,SAAS,CAAC,UAAA,GAAG;AAAI,gBACxE,IAAI,GAAG,EAAE;AACrB,oBAAgB,IAAI,KAAI,CAAC,GAAG,KAAK,GAAG,EAAE;AACtC,wBAAoB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;AACzC,qBAAiB;AACjB,iBAAa;AACb,qBAAiB;AACjB,oBAAgB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;AACrC,iBAAa;AACb,gBACY,KAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;AACnC,aAAS,CAAC,CAAC;AAAC,SACP;AAEL,QAAI,mBAAG,GAAH,UAAI,QAAmB;AAAI,YACvB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,YAAO,IAAI,CAAC,QAAQ,EAAK,QAAQ,aAAQ,QAAQ,CAAC,CAAC;AACxF,YACQ,IAAI,IAAI,CAAC,iBAAiB,EAAE;AACpC,gBAAY,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,gBAAgB,YAAO,IAAI,CAAC,gBAAgB,EAAK,QAAQ,aAAQ,QAAQ,CAAC,CAAC;AACpH,aAAS;AACT,YACQ,IAAI,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC;AAC/B,SAAK;AAEL,QAAI,sBAAM,GAAN,UAAO,OAAgB;AAAI,YACvB,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,KAAK,OAAO,CAAC,GAAG,CAAC;AAC7C,YACQ,IAAI,KAAK,IAAI,IAAI,CAAC,qBAAqB,EAAE;AACjD,gBAAY,KAAK,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;AAClE,aAAS;AACT,YACQ,IAAI,KAAK,IAAI,IAAI,CAAC,iBAAiB,EAAE;AAC7C,gBAAY,KAAK,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;AAC1E,aAAS;AACT,YACQ,OAAO,KAAK,CAAC;AACrB,SAAK;AAEL,QAAI,+BAAe,GAAf,UAAgB,UAAqB,EAAE,OAAgB;AAAI,YACvD,IAAI,CAAC,UAAU,EAAE;AACzB,gBAAY,OAAO,KAAK,CAAC;AACzB,aAAS;AACT,YACQ,OAAO,UAAU,CAAC,IAAI,CAAC,UAAA,CAAC;AAAI,gBACzB,QAAQ,CAAC,CAAC,CAAC,OAAO,KAAK,OAAO,CAAC,OAAO,MAAM,CAAC,CAAC,MAAM,IAAI,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,QAAQ,KAAK,OAAO,CAAC,QAAQ,CAAC,EAAE;AACzH,aAAS,CAAC,IAAI,IAAI,CAAC;AACnB,SAAK;AAEL,QAAI,kCAAkB,GAAlB;AAAc,YAAd,iBAYC;AACL,YAZQ,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,UAAC,IAAI;AAAI,gBAC5B,QAAO,IAAI,CAAC,OAAO,EAAE;AACjC,oBAAgB,KAAK,SAAS;AAC9B,wBAAoB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;AAClD,wBAAgB,MAAM;AACtB,oBACgB;AAChB,wBAAoB,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;AAClD,wBAAgB,MAAM;AACtB,iBAAa;AACb,aAAS,CAAC,CAAC;AACX,SAAK;AAEL,QAAI,8BAAc,GAAd,UAAe,KAAK;AACxB,YAAQ,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;AAC7C,YACQ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;AAC1B,gBAAY,OAAO,EAAE,KAAK,CAAC,OAAO;AAClC,aAAS,CAAC,CAAC;AACX,YACQ,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC;AAChC,SAAK;AAEL,QAAI,gCAAgB,GAAhB,UAAiB,KAAqB;AAC1C,YAAQ,IAAI,KAAK,CAAC,SAAS,KAAK,MAAM,IAAI,IAAI,CAAC,UAAU,EAAE;AAC3D,gBAAY,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,IAAI,EAAEa,cAAU,CAAC,MAAM,CAAC,CAAC,CAAC;AACjH,aAAS;AACT,SAAK;AAEL,QAAI,2BAAW,GAAX;AAAc,YACV,IAAI,IAAI,CAAC,mBAAmB,EAAE;AACtC,gBAAY,IAAI,CAAC,mBAAmB,CAAC,WAAW,EAAE,CAAC;AACnD,aAAS;AACT,YACQ,IAAI,IAAI,CAAC,iBAAiB,EAAE;AACpC,gBAAY,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,CAAC;AACjD,aAAS;AACT,SAAK;AACJ;AAGuC,oBAzGDC,kBAAc;AAAI,oBAAUC,sBAAiB;AAAG,aA1C1E;iDArBZb,jDAqBa;SArBJ,SAAC,lBAuBV,oBA/IOY,kBAAc;EAyHlB,QAAQ,EAAE,SAAS,rBAzHG,oBALuKC,sBAAiB;EA+H9M,QAAQ,EAAE,ZA/HuM;AAAc;AAC5N,0BAmJFL,UAAK;AAAK,iCAEVA,UAAK;AAAK,iCAEVA,UAAK;AAAK,4BAEVA,UAAK;AAAK,iCAEVA,UAAK;AAAK,+BAEVA,UAAK;AAAK,4CAEVA,UAAK;AAAK,wCAEVA,UAAK;AAAK,2CAEVA,UAAK;AAAK,2CAEVA,UAAK;AAAK,4CAEVA,UAAK;AAAK,4CAEVA,UAAK;AApCL,0BACD,UAAU,EAAE,tCAmCD,8BAEVC,WAAM;sBApCHR,kBAAO,CAAC,gBAAgB,EAAE,3DAoClB,yCAEXS,cAAS,SAAC,WAAW;WArCdN,qBAAU,CAAC,gBAAgB,EAAE,nDAqCR,gCAE5BY,oBAAe,SAACC,iBAAa;KAtClBH,LAsCwB;UAtCnB,CAAC,IAAI,EAAEC,uBAAY,EAAE,CAAC,kCAC9B,CAAC,8BACL,CAAC,0BACL,0BACD;MAAe,EAAER,4BAAuB,CAAC,MAAM,0BAC/C,aAAa,EAAED,sBAAiB,CAAC,IAAI;;;;;;;;;;uaAExC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBA+BiD;AAAC,QAkHnD,YAAC;AAED,KAvKA,IAqKC;AACD;AAEsC,QADtC;AACa,SAIe;uDAL3BY;CAAQ,SAAC,0BACN,OAAO,EAAE,CAACC,mBAAY,EAACC,mBAAY,CAAC,0BACpC,OAAO,EAAE,CAAC,KAAK,EAACC,gBAAY,CAAC,0BAC7B,YAAY,EAAE,CAAC,KAAK,EAAC;CAAS,CAAC,sBAClC;;;;;;;;;gDACY;AAAC,QAAa,kBAAC;AAC3B,KAND;AAAK;AAAC;AACe;AACP;AACI;AAAC;AAGD;AAAC;AAAM","sourcesContent":["import {NgModule,Component,Input,Output,OnInit,AfterViewInit,AfterContentInit,OnDestroy,ElementRef,ViewChild,EventEmitter,ContentChildren,QueryList,TemplateRef,ChangeDetectionStrategy, NgZone, ChangeDetectorRef, ViewEncapsulation} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {Message} from 'primeng/api';\nimport {DomHandler} from 'primeng/dom';\nimport {PrimeTemplate,SharedModule} from 'primeng/api';\nimport {MessageService} from 'primeng/api';\nimport {RippleModule} from 'primeng/ripple';\nimport {Subscription} from 'rxjs';\nimport {trigger,state,style,transition,animate,query,animateChild,AnimationEvent} from '@angular/animations';\n\n@Component({\n    selector: 'p-toastItem',\n    template: `\n        <div #container [attr.id]=\"message.id\" class=\"p-toast-message\" [ngClass]=\"'p-toast-message-' + message.severity\" [@messageState]=\"{value: 'visible', params: {showTransformParams: showTransformOptions, hideTransformParams: hideTransformOptions, showTransitionParams: showTransitionOptions, hideTransitionParams: hideTransitionOptions}}\"\n                (mouseenter)=\"onMouseEnter()\" (mouseleave)=\"onMouseLeave()\">\n            <div class=\"p-toast-message-content\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n                <ng-container *ngIf=\"!template\">\n                    <span class=\"p-toast-message-icon pi\" [ngClass]=\"{'pi-info-circle': message.severity == 'info', 'pi-exclamation-triangle': message.severity == 'warn',\n                        'pi-times-circle': message.severity == 'error', 'pi-check' :message.severity == 'success'}\"></span>\n                    <div class=\"p-toast-message-text\">\n                        <div class=\"p-toast-summary\">{{message.summary}}</div>\n                        <div class=\"p-toast-detail\">{{message.detail}}</div>\n                    </div>\n                </ng-container>\n                <button type=\"button\" class=\"p-toast-icon-close p-link\" (click)=\"onCloseIconClick($event)\" (keydown.enter)=\"onCloseIconClick($event)\" *ngIf=\"message.closable !== false\" pRipple>\n                    <span class=\"p-toast-icon-close-icon pi pi-times\"></span>\n                </button>\n                <ng-container *ngTemplateOutlet=\"template; context: {$implicit: message}\"></ng-container>\n            </div>\n        </div>\n    `,\n    animations: [\n        trigger('messageState', [\n            state('visible', style({\n                transform: 'translateY(0)',\n                opacity: 1\n            })),\n            transition('void => *', [\n                style({transform: '{{showTransformParams}}', opacity: 0}),\n                animate('{{showTransitionParams}}')\n            ]),\n            transition('* => void', [\n                animate(('{{hideTransitionParams}}'), style({\n                    height: 0,\n                    opacity: 0,\n                    transform: '{{hideTransformParams}}'\n                }))\n            ])\n        ])\n    ],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ToastItem implements AfterViewInit, OnDestroy {\n\n    @Input() message: Message;\n\n    @Input() index: number;\n\n    @Input() template: TemplateRef<any>;\n\n    @Input() showTransformOptions: string;\n\n    @Input() hideTransformOptions: string;\n\n    @Input() showTransitionOptions: string;\n\n    @Input() hideTransitionOptions: string;\n\n    @Output() onClose: EventEmitter<any> = new EventEmitter();\n\n    @ViewChild('container') containerViewChild: ElementRef;\n\n    timeout: any;\n\n    constructor(private zone: NgZone) {}\n    \n    ngAfterViewInit() {\n        this.initTimeout();\n    }\n\n    initTimeout() {\n        if (!this.message.sticky) {\n            this.zone.runOutsideAngular(() => {\n                this.timeout = setTimeout(() => {\n                    this.onClose.emit({\n                        index: this.index,\n                        message: this.message\n                    });\n                }, this.message.life || 3000);\n            });\n        }\n    }\n\n    clearTimeout() {\n        if (this.timeout) {\n            clearTimeout(this.timeout);\n            this.timeout = null;\n        }\n    }\n    \n    onMouseEnter() {\n        this.clearTimeout();\n    }\n\n    onMouseLeave() {\n        this.initTimeout();\n    }\n \n    onCloseIconClick(event) {\n        this.clearTimeout();\n        \n        this.onClose.emit({\n            index: this.index,\n            message: this.message\n        });\n\n        event.preventDefault();\n    }\n\n    ngOnDestroy() {\n        this.clearTimeout();\n    }\n}\n\n@Component({\n    selector: 'p-toast',\n    template: `\n        <div #container [ngClass]=\"'p-toast p-component p-toast-' + position\" [ngStyle]=\"style\" [class]=\"styleClass\">\n            <p-toastItem *ngFor=\"let msg of messages; let i=index\" [message]=\"msg\" [index]=\"i\" (onClose)=\"onMessageClose($event)\"\n                    [template]=\"template\" @toastAnimation (@toastAnimation.start)=\"onAnimationStart($event)\" \n                    [showTransformOptions]=\"showTransformOptions\" [hideTransformOptions]=\"hideTransformOptions\" \n                    [showTransitionOptions]=\"showTransitionOptions\" [hideTransitionOptions]=\"hideTransitionOptions\"></p-toastItem>\n        </div>\n    `,\n    animations: [\n        trigger('toastAnimation', [\n            transition(':enter, :leave', [\n                query('@*', animateChild())\n            ])\n        ])\n    ],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    styleUrls: ['./toast.css']\n})\nexport class Toast implements OnInit,AfterContentInit,OnDestroy {\n\n    @Input() key: string;\n\n    @Input() autoZIndex: boolean = true;\n    \n    @Input() baseZIndex: number = 0;\n\n    @Input() style: any;\n        \n    @Input() styleClass: string;\n\n    @Input() position: string = 'top-right';\n\n    @Input() preventOpenDuplicates: boolean = false;\n\n    @Input() preventDuplicates: boolean = false;\n    \n    @Input() showTransformOptions: string = 'translateY(100%)';\n\n    @Input() hideTransformOptions: string = 'translateY(-100%)';\n\n    @Input() showTransitionOptions: string = '300ms ease-out';\n\n    @Input() hideTransitionOptions: string = '250ms ease-in';\n\n    @Output() onClose: EventEmitter<any> = new EventEmitter();\n\n    @ViewChild('container') containerViewChild: ElementRef;\n\n    @ContentChildren(PrimeTemplate) templates: QueryList<any>;\n\n    messageSubscription: Subscription;\n\n    clearSubscription: Subscription;\n\n    messages: Message[];\n\n    messagesArchieve: Message[];\n\n    template: TemplateRef<any>;\n    \n    constructor(public messageService: MessageService, private cd: ChangeDetectorRef) {}\n\n    ngOnInit() {\n        this.messageSubscription = this.messageService.messageObserver.subscribe(messages => {\n            if (messages) {\n                if (messages instanceof Array) {\n                    const filteredMessages = messages.filter(m => this.canAdd(m));\n                    this.add(filteredMessages);\n                }\n                else if (this.canAdd(messages)) {\n                    this.add([messages]);\n                }\n            }\n        });\n\n        this.clearSubscription = this.messageService.clearObserver.subscribe(key => {\n            if (key) {\n                if (this.key === key) {\n                    this.messages = null;\n                }\n            }\n            else {\n                this.messages = null;\n            }\n\n            this.cd.markForCheck();\n        });       \n    }\n\n    add(messages: Message[]): void {\n        this.messages = this.messages ? [...this.messages, ...messages] : [...messages];\n\n        if (this.preventDuplicates) {\n            this.messagesArchieve = this.messagesArchieve ? [...this.messagesArchieve, ...messages] : [...messages];\n        }\n\n        this.cd.markForCheck();\n    }\n\n    canAdd(message: Message): boolean {\n        let allow = this.key === message.key;\n\n        if (allow && this.preventOpenDuplicates) {\n            allow = !this.containsMessage(this.messages, message);\n        }\n\n        if (allow && this.preventDuplicates) {\n            allow = !this.containsMessage(this.messagesArchieve, message);\n        }\n\n        return allow;\n    }\n\n    containsMessage(collection: Message[], message: Message): boolean {\n        if (!collection) {\n            return false;\n        }\n\n        return collection.find(m => {\n           return ((m.summary === message.summary) && (m.detail == message.detail) && (m.severity === message.severity));\n        }) != null;\n    }\n\n    ngAfterContentInit() {\n        this.templates.forEach((item) => {\n            switch(item.getType()) {\n                case 'message':\n                    this.template = item.template;\n                break;\n\n                default:\n                    this.template = item.template;\n                break;\n            }\n        });\n    }\n\n    onMessageClose(event) {\n        this.messages.splice(event.index, 1);\n\n        this.onClose.emit({\n            message: event.message\n        });\n\n        this.cd.detectChanges();\n    }\n\n    onAnimationStart(event: AnimationEvent) {\n        if (event.fromState === 'void' && this.autoZIndex) {\n            this.containerViewChild.nativeElement.style.zIndex = String(this.baseZIndex + (++DomHandler.zindex));\n        }\n    }\n\n    ngOnDestroy() {        \n        if (this.messageSubscription) {\n            this.messageSubscription.unsubscribe();\n        }\n        \n        if (this.clearSubscription) {\n            this.clearSubscription.unsubscribe();\n        }\n    }\n}\n\n@NgModule({\n    imports: [CommonModule,RippleModule],\n    exports: [Toast,SharedModule],\n    declarations: [Toast,ToastItem]\n})\nexport class ToastModule { }\n"]}